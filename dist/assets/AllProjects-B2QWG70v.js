import{r as a,j as e,F as p,c as S,d as v,u as N,e as g}from"./index-DAOFLvT5.js";import{P as w}from"./ProjectCard-Cbk2ID3v.js";import{b as x}from"./index-CHg_50Q6.js";import"./github_icon-CMrE5woH.js";const F="_container_867zb_1",B="_header_867zb_12",I="_backButton_867zb_49",k="_projectsContainer_867zb_76",q="_noResults_867zb_115",_={container:F,header:B,backButton:I,projectsContainer:k,noResults:q},y="_filterContainer_oqeju_1",R="_filtersRow_oqeju_9",T="_searchContainer_oqeju_16",A="_searchIcon_oqeju_24",P="_searchInput_oqeju_32",L="_clearButton_oqeju_49",E="_techFilter_oqeju_71",z="_filterLabel_oqeju_79",D="_techSelect_oqeju_85",H="_filterInfo_oqeju_103",J="_clearAllButton_oqeju_114",s={filterContainer:y,filtersRow:R,searchContainer:T,searchIcon:A,searchInput:P,clearButton:L,techFilter:E,filterLabel:z,techSelect:D,filterInfo:H,clearAllButton:J};function M({projects:n,onFilterChange:h}){const[r,u]=a.useState(""),[l,d]=a.useState(""),c=a.useRef(),m=a.useMemo(()=>{const t=new Set;return n.forEach(j=>{var i;(i=j.techStack)==null||i.forEach(o=>{t.add(o.name)})}),Array.from(t).sort()},[n]),f=a.useMemo(()=>n.filter(t=>{var o;const j=r===""||t.title.toLowerCase().includes(r.toLowerCase())||t.description.toLowerCase().includes(r.toLowerCase()),i=l===""||((o=t.techStack)==null?void 0:o.some(C=>C.name===l));return j&&i}),[n,r,l]);a.useEffect(()=>{var i;const t=JSON.stringify((i=c.current)==null?void 0:i.map(o=>o.title)),j=JSON.stringify(f.map(o=>o.title));t!==j&&(c.current=f,h(f))},[f,h]);const b=()=>{u(""),d("")};return e.jsxs("div",{className:s.filterContainer,role:"search","aria-label":"Filter projects",children:[e.jsxs("div",{className:s.filtersRow,children:[e.jsxs("div",{className:s.searchContainer,children:[e.jsx(p,{icon:S,className:s.searchIcon,"aria-hidden":"true"}),e.jsx("input",{type:"text",placeholder:"Search projects...",value:r,onChange:t=>u(t.target.value),className:s.searchInput,"aria-label":"Search projects by name or description"}),r&&e.jsx("button",{onClick:()=>u(""),className:s.clearButton,"aria-label":"Clear search",children:e.jsx(p,{icon:v})})]}),e.jsxs("div",{className:s.techFilter,children:[e.jsx("label",{htmlFor:"tech-filter",className:s.filterLabel,children:"Filter:"}),e.jsxs("select",{id:"tech-filter",value:l,onChange:t=>d(t.target.value),className:s.techSelect,"aria-label":"Filter projects by technology",children:[e.jsx("option",{value:"",children:"All Technologies"}),m.map(t=>e.jsx("option",{value:t,children:t},t))]})]})]}),(r||l)&&e.jsxs("div",{className:s.filterInfo,children:[e.jsxs("span",{children:["Showing ",f.length," of ",n.length," projects"]}),e.jsx("button",{onClick:b,className:s.clearAllButton,"aria-label":"Clear all filters",children:"Clear Filters"})]})]})}function Q(){const n=N();a.useEffect(()=>{window.scrollTo(0,0)},[]);const[h,r]=a.useState([]),u=a.useCallback(c=>{r(c)},[]),l=c=>{c.preventDefault(),n("/"),window.scrollTo({top:0,behavior:"smooth"})},d=h.length>0?h:x;return e.jsxs("section",{className:_.container,children:[e.jsxs("div",{className:_.header,children:[e.jsxs("button",{onClick:l,className:_.backButton,children:[e.jsx(p,{icon:g})," Back to Home"]}),e.jsx("h1",{children:"All Projects"})]}),e.jsx(M,{projects:x,onFilterChange:u}),e.jsx("div",{className:_.projectsContainer,children:d.length>0?d.map((c,m)=>e.jsx(w,{project:c},c.title||m)):e.jsx("div",{className:_.noResults,children:e.jsx("p",{children:"No projects found matching your filters."})})})]})}export{Q as default};
